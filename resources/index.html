<!DOCTYPE html>
<html>
<head>
	<title>Kantai Collection</title>
	<style type="text/css">
		html, body, embed, object {
			padding: 0;
			margin: 0;
		}
	</style>
	<script type="text/javascript">
		var useDirectRendering = false;

		function setCredentials(server, token) {
			setAPILink("http://" + server + "/kcs/mainD2.swf?api_token=" + token + "&api_starttime=" + new Date().getTime());
		}

		function setAPILink(link) {
			// Remove any eventual old embeds
			var oldEmbeds = document.getElementsByTagName("embed");
			for (var i = 0; i < oldEmbeds.length; i++) oldEmbeds[i].parentNode.removeChild(oldEmbeds[i]);

			// Add a new one
			var e = document.createElement("embed");
			e.setAttribute("src", link);
			e.setAttribute("type", "application/x-shockwave-flash");
			e.setAttribute("quality", "high");
			e.setAttribute("background", "#000000");
			e.setAttribute("width", "800");
			e.setAttribute("height", "480");

			// Note: this breaks on some platforms, including Windows
			// We have to investigate when this can be safely enabled
			if (useDirectRendering)
				e.setAttribute("wmode", "direct");

			document.body.appendChild(e);
		}
	</script>
</head>
<body ondragstart="return false;" oncontextmenu="return false;"></body>
</html>
